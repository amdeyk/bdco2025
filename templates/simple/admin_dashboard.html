{% extends 'base.html' %}
{% block title %}Admin Dashboard | {{ conference.name or 'Conference' }}{% endblock %}
{% block content %}
<div class="row g-4">
  <div class="col-md-4">
    <div class="card text-center shadow-sm">
      <div class="card-body">
        <div class="display-6">{{ count }}</div>
        <div class="text-muted">Guests</div>
        <a class="btn btn-primary mt-2" href="/admin/guests" data-bs-toggle="tooltip" title="View all guests"><i class="fas fa-users me-1"></i> Manage Guests</a>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-center shadow-sm">
      <div class="card-body">
        <div class="display-6"><i class="fas fa-gear"></i></div>
        <div class="text-muted">Settings</div>
        <a class="btn btn-secondary mt-2" href="/admin/settings" data-bs-toggle="tooltip" title="Update conference details"><i class="fas fa-pen-to-square me-1"></i> Edit Settings</a>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-center shadow-sm">
      <div class="card-body">
        <div class="display-6"><i class="fas fa-file-import"></i></div>
        <div class="text-muted">Bulk Upload</div>
        <form method="post" action="/admin/bulk_upload" enctype="multipart/form-data" class="mt-2">
          <input type="file" name="csv_file" class="form-control form-control-sm" accept=".csv" required>
          <button class="btn btn-outline-primary btn-sm mt-2" type="submit" data-bs-toggle="tooltip" title="Upload a CSV to create guests">Upload CSV</button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="card shadow-sm mt-4">
  <div class="card-header bg-white"><strong><i class="fas fa-triangle-exclamation"></i> Danger Zone</strong></div>
  <div class="card-body">
    <form method="post" action="/admin/clear_database" onsubmit="return confirm('This will delete all guest records. Continue?')">
      <div class="row g-2 align-items-end">
        <div class="col-md-6"><label class="form-label">Confirm Admin Password</label><input type="password" name="password" class="form-control" required></div>
        <div class="col-md-3"><button class="btn btn-outline-danger" type="submit" data-bs-toggle="tooltip" title="Delete all guest data"><i class="fas fa-trash"></i> Clear Database</button></div>
      </div>
    </form>
  </div>
</div>
{% endblock %}

